<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8">
  <title>Kontrollrapport â€“ Linux Portfolio</title>
  <link rel="stylesheet" href="../css/style.css">
  <link rel="icon" href="../assets/images/penguin.png" type="image/png">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="../assets/js/skills_chart.js" defer></script>
  <script src="../assets/js/timeline_chart.js" defer></script>
</head>

<body class="dark-mode">
<script src="../assets/js/auth_check.js" defer></script>

  <header class="stat-section">
    <h1>ğŸ“Š Kontrollrapport â€“ Sammanfattning</h1>
    <p>En helhetsvy Ã¶ver min Linux-utveckling, baserad pÃ¥ loggdata, kompetensprofil och aktivitet Ã¶ver tid.</p>
  </header>

  <!-- === SEKTION 1: KOMPETENSPROFIL === -->
  <section class="stat-section">
    <h2>ğŸ“ˆ Kompetensprofil</h2>
    <canvas id="skillsChart" width="700" height="500"
      style="max-width:800px;margin:auto;display:block;"></canvas>
  </section>

  <!-- === SEKTION 2: AKTIVITET Ã–VER TID === -->
  <section class="stat-section">
    <h2>ğŸ—“ï¸ Aktivitet Ã¶ver tid</h2>
    <canvas id="timelineChart" width="700" height="500"
      style="max-width:800px;margin:auto;display:block;"></canvas>
  </section>

  <!-- === SEKTION 3: AI-SAMMANFATTNING === -->
  <section class="stat-section">
    <h2>ğŸ§  AI-bedÃ¶mning</h2>
    <blockquote>
      Kate har visat en tydlig och stadig progression inom Linux. 
      Diagrammen visar stark aktivitet och djup fÃ¶rstÃ¥else fÃ¶r Bash-automatisering, 
      logghantering och dokumentationsstruktur. 
      Hennes arbete uppvisar avancerad kompetens i systemadministration 
      och metodiskt lÃ¤rande genom iterativa fÃ¶rbÃ¤ttringar.
    </blockquote>
  </section>

  <!-- === SEKTION 4: EXPORT === -->
  <section class="export-buttons" style="text-align:center;">
    <button onclick="window.print()">ğŸ–¨ï¸ Skriv ut</button>
    <a href="assets/pdf/kontrollrapport.pdf" download>ğŸ“¥ Ladda ner PDF</a>
    <a href="index.html">â¬…ï¸ Tillbaka till dashboard</a>
  </section>

  <!-- === FOOTER MED SENAST UPPDATERAD === -->
  <footer id="footer-info" style="margin-top:50px;text-align:center;padding:20px 0;color:#aaa;">
    <p>
      Â© 2025 Kate Sofia Petersen |
      <a href="min_utveckling.html" style="color:#90caf9;text-decoration:none;">
        ğŸŒ± Visa min utveckling
      </a><br>
      <small id="lastUpdated">Laddar senast uppdaterad tid...</small>
    </p>
  </footer>

  <script>
  async function loadFooterInfo() {
    const paths = [
      "assets/data/systeminfo.json",
      "./assets/data/systeminfo.json",
      "/assets/data/systeminfo.json"
    ];
    for (const path of paths) {
      try {
        const res = await fetch(path);
        if (!res.ok) continue;
        const data = await res.json();
        document.getElementById("lastUpdated").textContent =
          `ğŸ•“ Senast uppdaterad: ${data.last_update}`;
        return;
      } catch (err) {
        console.warn(`Kunde inte lÃ¤sa frÃ¥n ${path}:`, err);
      }
    }
    document.getElementById("lastUpdated").textContent =
      "âŒ Kunde inte lÃ¤sa uppdateringstid";
  }
  document.addEventListener("DOMContentLoaded", loadFooterInfo);
  </script>

</body>
</html>
